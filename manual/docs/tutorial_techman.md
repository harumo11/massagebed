# ロボットアームのチュートリアル

このロボットアームはTechman社が開発しているものです．人協働ロボットアームなので
人と衝突しても安全なように作られています．関節数は６個あり，手先にはRGBカメラが
搭載されています．TCP通信を使用してロボットアームに命令を送ることで，手先や関節
の速度や位置をPCから制御することが可能です．

このチュートリアルでは，PCとロボットアームを接続し，命令を送り，実際にロボットの手先の
関節を動かす手順について解説します．ただ，電源のつけ方などの細かい部分は省略しています
ので，詳細はTechman社のマニュアルをご確認ください．

また，このチュートリアルでは事前に，下記の物品をご用意ください．
おそらくマッサージベッドの部屋にあると思います．

- 速度制御用のUSBドングル（黒色）
- Ethernetケーブル

## 起動方法
1. 速度制御用のUSBドングルをロボットコントローラに接続する．
1. EthernetケーブルをPCと接続する．
1. リモコンの非常停止を解除する．
1. ロボットコントローラの電源をつける．
1. 起動したら，ログインする.
1. 「制御を取得」を押す．

## 通信設定
1. ロボット側のネットワーク設定を下記のように設定する．
	- IPアドレス：`192.168.10.2` ネットマスク: `255.255.255.0`
	この際，Ethernetケーブルで接続されていないと，そもそも設定画面が現れないので注意してください．
1. PC側のネットワーク設定が下記のように設定する．
	- IPアドレス：`192.168.10.1`  ネットマスク: `255.255.255.0`
1. PC側で```ping 192.168.10.2```を実行し，通信できているかをチェックする．

## テストプログラムの実行
### ロボット側の設定
1. リモコンのM/Aボタンを押し，マニュアルモードに移行します．
1. veltestプロジェクトを開きます．
1. リモコンの再生ボタンを押し，プログラムを実行します．

### PC側の設定
1. vcpkgなどを利用し，POCO Libraryをインストールします．
1. tm_velocity_testをVisual Studioなどで開き実行します．

うまく行けばロボットの手先の関節が１８０度ゆっくりと回転し，また同じ速度で反対方向
にも１８０度回転します．

